#!/usr/bin/env bash

#./buildscripts/scons.py CC=clang CXX=clang++ LIBPATH=/usr/local/lib LINKFLAGS="-fuse-ld=lld" --disable-warnings-as-errors=1 --dbg all

./build/ninja/mongo/db/storage/rocks/storage_rocks_engine_test
echo "more?"
read
./build/ninja/mongo/db/storage/rocks/storage_rocks_index_test
echo "more?"
read
./build/ninja/mongo/db/storage/rocks/storage_rocks_record_store_test
echo "more?"
read
./buildscripts/resmoke.py --suites=unittests #--continueOnFailure
echo "more?"
read
./buildscripts/resmoke.py --suites=dbtest #--continueOnFailure
echo "more?"
read
./buildscripts/resmoke.py --storageEngine rocksdb --jobs 1 --suites=aggregation,aggregation_auth,aggregation_ese,aggregation_ese_gcm,aggregation_facet_unwind_passthrough,aggregation_mongos_passthrough,aggregation_one_shard_sharded_collections,aggregation_read_concern_majority_passthrough,aggregation_sharded_collections_passthrough,audit,auth,auth_audit,benchmarks,benchmarks_sharding,benchrun_embedded_aggregation,benchrun_embedded_commands,benchrun_embedded_insert,benchrun_embedded_misc,benchrun_embedded_mixed_and_multi,benchrun_embedded_queries,benchrun_embedded_remove,benchrun_embedded_update,buildscripts_test,bulk_gle_passthrough,causally_consistent_jscore_passthrough,causally_consistent_jscore_passthrough_auth,causally_consistent_jscore_txns_passthrough,change_streams,change_streams_mongos_passthrough,change_streams_mongos_sessions_passthrough,change_streams_multi_stmt_txn_mongos_passthrough,change_streams_multi_stmt_txn_passthrough,change_streams_multi_stmt_txn_sharded_collections_passthrough,change_streams_secondary_reads,change_streams_sharded_collections_passthrough,change_streams_whole_cluster_mongos_passthrough,change_streams_whole_cluster_passthrough,change_streams_whole_cluster_secondary_reads_passthrough,change_streams_whole_cluster_sharded_collections_passthrough,change_streams_whole_db_mongos_passthrough,change_streams_whole_db_passthrough,change_streams_whole_db_secondary_reads_passthrough,change_streams_whole_db_sharded_collections_passthrough,client_encrypt,concurrency,concurrency_replication,concurrency_replication_causal_consistency,concurrency_replication_causal_consistency_ubsan,concurrency_replication_for_backup_restore,concurrency_replication_multi_stmt_txn,concurrency_replication_multi_stmt_txn_ubsan,concurrency_replication_ubsan,concurrency_replication_wiredtiger_cursor_sweeps,concurrency_sharded_causal_consistency,concurrency_sharded_causal_consistency_and_balancer,concurrency_sharded_local_read_write_multi_stmt_txn,concurrency_sharded_local_read_write_multi_stmt_txn_with_balancer,concurrency_sharded_multi_stmt_txn,concurrency_sharded_multi_stmt_txn_with_balancer,concurrency_sharded_multi_stmt_txn_with_stepdowns,concurrency_sharded_replication,concurrency_sharded_replication_with_balancer,concurrency_sharded_with_stepdowns,concurrency_sharded_with_stepdowns_and_balancer,concurrency_simultaneous,concurrency_simultaneous_replication,concurrency_simultaneous_replication_wiredtiger_cursor_sweeps,core,core_auth,core_ese,core_ese_gcm,core_minimum_batch_size,core_op_query,core_txns,core_txns_large_txns_format,decimal,disk_mobile,disk_wiredtiger,ese,external_auth,failpoints,failpoints_auth,fle,free_monitoring,generational_fuzzer,generational_fuzzer_replication,gle_auth,gle_auth_basics_passthrough,initial_sync_fuzzer,integration_tests_replset,integration_tests_sharded,integration_tests_standalone,integration_tests_standalone_audit,json_schema,jstestfuzz,jstestfuzz_interrupt,jstestfuzz_interrupt_replication,jstestfuzz_replication,jstestfuzz_replication_continuous_stepdown,jstestfuzz_replication_initsync,jstestfuzz_replication_session,jstestfuzz_sharded,jstestfuzz_sharded_causal_consistency,jstestfuzz_sharded_continuous_stepdown,jstestfuzz_sharded_session,logging_perf,logical_session_cache_replication_100ms_refresh_jscore_passthrough,logical_session_cache_replication_10sec_refresh_jscore_passthrough,logical_session_cache_replication_1sec_refresh_jscore_passthrough,logical_session_cache_replication_default_refresh_jscore_passthrough,logical_session_cache_sharding_100ms_refresh_jscore_passthrough,logical_session_cache_sharding_10sec_refresh_jscore_passthrough,logical_session_cache_sharding_1sec_refresh_jscore_passthrough,logical_session_cache_sharding_default_refresh_jscore_passthrough,logical_session_cache_standalone_100ms_refresh_jscore_passthrough,logical_session_cache_standalone_10sec_refresh_jscore_passthrough,logical_session_cache_standalone_1sec_refresh_jscore_passthrough,logical_session_cache_standalone_default_refresh_jscore_passthrough,mongos_test,mql_model_haskell,mql_model_mongod,multi_shard_local_read_write_multi_stmt_txn_jscore_passthrough,multi_shard_multi_stmt_txn_jscore_passthrough,multi_shard_multi_stmt_txn_kill_primary_jscore_passthrough,multi_shard_multi_stmt_txn_stepdown_primary_jscore_passthrough,multi_stmt_txn_jscore_passthrough_with_migration,multiversion,multiversion_auth,no_passthrough,no_passthrough_with_mongod,parallel,read_concern_linearizable_passthrough,read_concern_majority_passthrough,read_only,read_only_sharded,replica_sets,replica_sets_auth,replica_sets_ese,replica_sets_ese_gcm,replica_sets_initsync_jscore_passthrough,replica_sets_initsync_static_jscore_passthrough,replica_sets_jscore_passthrough,replica_sets_kill_primary_jscore_passthrough,replica_sets_kill_secondaries_jscore_passthrough,replica_sets_large_txns_format,replica_sets_large_txns_format_jscore_passthrough,replica_sets_multi_stmt_txn_jscore_passthrough,replica_sets_multi_stmt_txn_kill_primary_jscore_passthrough,replica_sets_multi_stmt_txn_stepdown_jscore_passthrough,replica_sets_multi_stmt_txn_terminate_primary_jscore_passthrough,replica_sets_terminate_primary_jscore_passthrough,retryable_writes_jscore_passthrough,retryable_writes_jscore_stepdown_passthrough,rollback_fuzzer,rollback_fuzzer_clean_shutdowns,rollback_fuzzer_unclean_shutdowns,sasl,search_beta,search_beta_auth,search_beta_ssl,secondary_reads_passthrough,serial_run,session_jscore_passthrough,sharded_causally_consistent_jscore_passthrough,sharded_causally_consistent_jscore_txns_passthrough,sharded_collections_causally_consistent_jscore_txns_passthrough,sharded_collections_jscore_passthrough,sharded_jscore_txns,sharded_jscore_txns_sharded_collections,sharded_multi_stmt_txn_jscore_passthrough,sharding,sharding_auth,sharding_auth_audit,sharding_continuous_config_stepdown,sharding_ese,sharding_ese_gcm,sharding_gle_auth_basics_passthrough,sharding_jscore_op_query_passthrough,sharding_jscore_passthrough,sharding_last_stable_mongos_and_mixed_shards,sharding_misc,sharding_rs_matching_disabled,sharding_rs_matching_match_busiest_node,slow1,snmp,ssl,ssl_special,tool,unittests_auth,unittests_client,unittests_query,unittests_repl,unittests_sharding,watchdog,write_concern_majority_passthrough #--continueOnFailure
